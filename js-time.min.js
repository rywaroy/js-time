"use strict";const padStart=(t,e,r)=>{const s=String(t);return!s||s.length>=e?t:`${Array(e+1-s.length).join(r)}${t}`},time=t=>new Time(t);class Time{constructor(t){this.parse(t)}parse(t){this.$d=Time.parseDate(t),this.init()}static parseDate(t){if(null===t)return new Date(NaN);if(void 0===t)return new Date;if(t instanceof Date)return t;if("string"==typeof t){let e=t;const r=navigator.userAgent.toLocaleLowerCase();if(null!==r.match(/msie/)||null!==r.match(/trident/)){let r=0;return e=(e=t.replace(/-/g,"/")).replace(/\.(\d+)/,(t,e)=>(r=e,"")),new Date(Date.parse(e)+parseInt(r,10))}return new Date(e)}return new Date(t)}init(){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds()}isValid(){return!("Invalid Date"===this.$d.toString())}$compare(t){return this.valueOf()-time(t).valueOf()}isSame(t){return 0===this.$compare(t)}isBefore(t){return this.$compare(t)<0}isAfter(t){return this.$compare(t)>0}year(){return this.$y}month(){return this.$M}day(){return this.$W}date(){return this.$D}hour(){return this.$H}minute(){return this.$m}second(){return this.$s}millisecond(){return this.$ms}unix(){return Math.floor(this.valueOf()/1e3)}valueOf(){return this.$d.getTime()}format(t="YYYY-MM-DD HH:mm:ss"){return t.replace(/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,t=>{switch(t){case"YY":return String(this.$y).slice(-2);case"YYYY":return String(this.$y);case"M":return String(this.$M+1);case"MM":return padStart(this.$M+1,2,"0");case"D":return String(this.$D);case"DD":return padStart(this.$D,2,"0");case"H":return String(this.$H);case"HH":return padStart(this.$H,2,"0");case"h":case"hh":return 0===this.$H?12:padStart(this.$H<13?this.$H:this.$H-12,"hh"===t?2:1,"0");case"a":return this.$H<12?"am":"pm";case"A":return this.$H<12?"AM":"PM";case"m":return String(this.$m);case"mm":return padStart(this.$m,2,"0");case"s":return String(this.$s);case"ss":return padStart(this.$s,2,"0");case"SSS":return padStart(this.$ms,3,"0");default:return null}})}toDate(){return new Date(this.$d)}toObject(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}}ago(t){const e=parseInt(this.$compare(t)/1e3,10);return e<0?null:e<10?"刚刚":e<60?`${e}秒前`:e<3600?`${parseInt(e/60,10)}分钟前`:e<86400?`${parseInt(e/3600,10)}小时前`:e<2592e3?`${parseInt(e/86400,10)}天前`:e<31536e3?`${parseInt(e/2592e3,10)}个月前`:`${parseInt(e/31536e3,10)}年前`}}module.exports=time;
